# The `common' part is automatically included (and possibly overriden by all
# other flavors)
common: &common
    storage: <%= @storage %>
    storage_path: <%= @storage_path %>
    secret_key: <%= @secret_key %>
    <% if @storage == "s3" -%>
    s3_access_key: <%= @s3_access_key %>
    s3_secret_key: <%= @s3_secret_key %>
    s3_bucket: <%= @s3_bucket %>
    boto_bucket: <%= @s3_bucket %>
    <% end %>
    standalone: <%= @standalone %>
    <% unless @standalone %>
    index_endpoint: <%= @index_endpoint %>
    <% end %>

# This is the default configuration when no flavor is specified
dev:
    <<: *common
    loglevel: debug

prod:
    <<: *common
    loglevel: warn
